-- Custom Tachikoma dashboard header for snacks.nvim
return {
  {
    "folke/snacks.nvim",
    opts = function(_, opts)
      opts.dashboard = opts.dashboard or {}
      opts.dashboard.preset = opts.dashboard.preset or {}
      -- Build path to image relative to config directory (works on macOS and Linux)
      local config_dir = vim.fn.stdpath("config")
      local image_path = config_dir .. "/assets/tachikoma.png"
      -- Use terminal command to generate colored ASCII art dynamically
      opts.dashboard.sections = {
        {
          section = "terminal",
          cmd = "chafa '" .. image_path .. "' --size 60x30 --symbols block --fill none --bg 000000",
          height = 32,
          padding = 0,
        },
        { section = "keys", gap = 1, padding = 1 },
        { section = "startup" },
      }
      -- Keep a simple header as fallback
      opts.dashboard.preset.header = [[
⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⡀⠀⠀⡀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡂⠅⠠⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⡀⠀⠀⡀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠁⠀⠈⠀⠀⠁⠀⠈⠀⠀⠁⠀⠈⠀⠀⠈⠀⠀⠁⠀⠀⠁⠀⠀⡮⠀⠀⠂⠀⠀⠈⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠈⠀⠀⠁⠀⠀⠁⠀⠀
⠀⠀⠀⠀⠐⠀⠀⠀⠀⠀⢀⠀⠀⠠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠄⠂⡇⠁⠀⠁⢐⠀⡂⡐⢀⠠⠀⡀⠀⠀⠀⠀⠀⡀⠀⠀⡀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⡀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠠⠀⠀⠄⠀⠀⠄⠀⠀⠄⠀⠀⠄⠀⠠⠐⠀⡀⡂⣅⠔⡐⡂⡑⢂⠈⡀⠠⠀⠄⠐⡀⠂⠁⠁⠂⠌⠄⢀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠐⠀⠀⠂⠀⠀
⠀⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⡀⠄⠀⠀⡀⠀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠄⡐⠔⠯⢣⢳⢮⢶⠎⡖⠇⠌⠄⠡⠈⠀⢀⠀⠂⠁⢀⠠⠀⠐⠀⠄⠀⠀⠀⠀⠀⡀⠀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⡀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠄⠀⠀⡀⠀⡀⠐⠀⠐⠀⠀⠅⢅⠗⡃⡊⠢⠑⠀⢡⠠⠠⠠⡀⣁⢀⠀⠄⠈⠀⠀⠀⠂⠁⠠⠂⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠠⠀⠀
⠀⠀⠀⠀⡀⠀⠀⠄⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠄⠂⠁⠀⠀⠀⠀⠀⠀⠀⠐⠀⠁⡀⠄⢈⠠⠁⢂⠂⡈⠄⢁⠈⡀⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠄⣈⡀⣂⠠⠀⠀⠀⠀⠀⠄⠈⠀⠀⠀⢀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠠⠀⠁⠀⠀⠀⠀⠀⠀⠀⢀⠠⣂⡬⡤⢨⠔⠇⡊⢊⣐⣤⠕⢐⠀⠂⠄⢒⠀⠄⠐⠀⠄⠠⠀⢀⠀⠀⡀⢀⠠⠀⠀⢂⢮⣷⡿⡦⡨⠠⠂⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⠀⠀
⠀⠀⠀⠀⠂⠀⠀⠂⠀⠀⠀⡀⠄⠂⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⣢⣿⢿⠽⢡⠠⠡⠁⡂⠁⠅⠡⢈⢐⠈⠄⠡⢀⠂⠄⢁⣬⣤⣤⣄⡀⠠⠀⢀⠀⢀⠀⢈⠠⡙⡪⢋⢂⠀⠡⠈⠀⠀⠐⠀⠀⠀⠂⠀⠀⠀⠀⠀
⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⢲⡫⡏⠏⡰⠁⡐⣀⣥⣶⣵⣮⣌⡐⢠⠨⡐⡨⢠⠀⣼⣋⣿⣷⢷⣳⣫⠣⡄⠀⡀⠠⠀⢀⠀⠠⠈⠠⠀⠄⠂⢀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠀
⠀⠀⠀⠀⠀⠀⠈⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠠⠀⠂⠁⠀⠠⢘⠠⢂⠎⢂⠐⣰⣿⢿⣯⡷⣗⣗⢗⠀⢿⠿⡟⡟⡀⣗⢿⢽⢞⣯⡳⡕⢅⢘⠀⠀⠀⠄⠀⠀⠀⠀⡀⠀⠀⢀⠀⠀⠀⠀⢀⠀⠁⠀⠀⠂⠁⠀⠀
⠀⠀⠀⠀⠄⠀⠀⡀⠀⠀⠀⠀⠠⠀⠀⠀⡀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠂⢠⠃⠅⡐⠀⡧⡯⣻⢵⡫⠗⠕⢅⠁⠄⠅⡂⡂⠄⠨⠩⡋⡓⡑⡑⠌⡐⢠⠁⠀⠄⠀⠠⠐⠀⠁⠀⠀⠠⠀⠌⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠈⠔⠠⠀⢂⠁⠱⡘⠌⠪⢈⢂⠅⠁⠠⢈⠐⠠⠐⢈⠀⠂⠁⠂⠅⠂⠡⠐⠁⠀⠀⠀⠄⠀⠀⠀⠀⠀⢀⠠⠀⠠⠁⠀⠀⢀⠀⠀⠀⠂⠀⠀⠄⠀
⠀⠀⠀⠈⠀⠀⠠⠀⠀⠐⠀⠀⠀⠀⠀⡀⠄⠀⠠⠀⠀⠄⠐⠈⢀⡀⠈⠂⠍⠈⠄⡈⠄⡀⢁⠁⠁⡀⠠⢈⠐⠠⠈⣄⡈⠠⠈⢀⠁⢀⠀⠀⠀⠀⠀⠀⠀⢀⠠⠀⠀⠀⠀⢀⠀⠀⡀⡐⠀⠄⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠀⠀⠀⠀⠀⠠⠐⢊⡧⠑⠈⠢⣀⢐⠀⠄⠂⠠⠐⠀⡁⢀⠂⡀⠂⡁⠈⠐⠀⠀⠂⠀⠀⠀⠀⡀⠐⠀⠀⠄⠂⠀⠀⠀⠀⠀⠁⠀⠀⠂⠡⣠⠁⡂⠂⠄⠂⡀⠈⠀⠀⠁⠀⠀
⠀⠀⠀⠈⠀⠀⠀⠀⠀⠂⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠌⠠⠈⠐⠀⠔⠁⠀⠀⠁⠑⠑⠒⠔⠤⠤⢤⢠⢠⣀⢄⢄⢄⠤⠤⠤⠢⠂⠒⠁⠁⠈⠀⠀⠀⡤⠂⠂⠀⠈⠀⠀⠀⡐⠉⢈⠀⠈⠣⠐⢀⠀⠁⠄⢀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠀⡀⠄⠀⠂⠈⠀⡤⠆⠌⣐⠀⠂⢅⠂⠀⠀⠀⠀⠀⢀⢠⢠⣀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⠀⠀⢀⠀⠔⠁⠊⠀⢀⠡⣢⠌⢂⠡⠀⠄⢀⠀⠠⠁⠐⠈⡀⠐⠀⠈⢀⠀⠀⠀⠁⠀
⠀⠀⠀⠀⠂⠀⠐⠀⢀⠀⡀⠀⠁⠀⠀⠀⠀⡀⡢⢋⢨⠼⠪⠡⠁⠌⠀⠈⠀⠀⠁⠀⠠⠠⡦⢆⢈⠙⢄⠠⠀⠀⠐⠀⣡⣤⢐⠀⠀⠀⠀⠀⠠⠀⢀⠂⠑⠋⠵⠪⠠⡀⠅⡈⠄⠠⠀⠀⠀⠀⠄⠈⡀⠄⠀⠐⠀⠀⢀⠀
⠀⠀⠀⠀⠀⠀⠀⠄⢗⠳⡲⢮⢦⣥⣄⣂⣄⢂⠂⠢⠃⠨⠀⠁⠀⠀⠀⠀⠀⠀⠔⣮⣿⡷⡖⠄⠡⠀⠀⠀⠀⠀⠀⠢⠉⡀⠀⠈⡀⢀⠐⠄⡡⣸⠲⢈⠁⠂⠄⠀⠡⠐⠀⠄⠂⠐⠀⠀⠀⠄⠀⠂⠀⢀⠀⠁⠄⠀⠀⠀
⠀⠀⠀⠈⠀⠀⠀⠠⠘⠌⢔⢁⠢⢂⢊⢑⠍⡫⢛⠻⡺⢶⢶⢴⣤⣔⣠⣀⠌⠑⠛⢶⠁⠕⠈⠊⠀⠀⠁⠀⠀⠀⠈⠀⠂⡀⡀⠂⠀⠠⠨⡨⠪⠡⠨⠐⡈⠐⠀⠄⠀⠈⠠⠀⠁⠈⠀⡐⠀⠀⠀⡀⠄⠀⠀⠠⠐⠀⠀⠀
⠀⠀⠀⠀⠀⡀⠄⠀⠠⢑⠡⢂⠅⡑⡐⠅⡊⠔⡡⠑⢌⢂⠢⡑⢌⢊⢓⢯⡀⠜⠂⠀⠀⠀⡈⠠⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠌⡠⡣⠡⠡⢁⠁⡂⠀⠂⡁⠀⠀⡀⠀⠀⠐⠀⠠⠀⠀⠀⠀⠀⠀⠀⠠⠀⠂⠀⠀⠀
⠀⠀⠀⠀⠁⠀⠀⠀⠀⠠⡑⢄⢑⠐⢌⢂⢊⠢⠨⡨⢂⠢⡑⢌⢂⠢⠢⡑⣇⠀⡀⠄⠐⠀⠀⠀⠀⠀⠠⡈⠄⢀⠁⠄⠂⠠⠀⢌⣰⢊⢐⢈⠐⡀⠂⡀⠌⠀⠀⠀⠀⠀⠀⠀⡀⠄⡂⢂⠀⡀⠀⠀⠐⠀⠀⠀⠀⠁⠀⠀
⠀⠀⠀⢀⠀⠀⠀⠀⠀⠠⠐⠀⢂⢑⢐⢐⠄⡵⣕⣣⡡⠊⢔⠡⡂⢅⢑⠐⢽⡀⠠⠠⠈⡀⠀⠀⠀⠀⠈⡀⠀⠀⠀⠀⢀⠠⠨⡴⡁⡂⠂⡀⠂⠀⠄⠀⠀⠀⠀⠀⠐⠀⠐⠐⠀⠁⠀⠄⢁⠂⡀⠀⡀⠀⠀⠌⡐⠈⠀⠀
⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⠂⠁⠄⠠⠀⠄⢁⠙⣯⣯⣇⢑⠄⡑⢌⢐⠐⢅⢑⢧⠀⠁⠈⠀⠀⠀⡀⠈⠀⡀⢀⠀⠠⠐⠀⢀⢁⢁⠂⠄⠁⡀⠄⠁⠀⠀⠀⠀⠀⠠⠈⠄⠁⠀⠀⠀⠐⠀⠀⠀⠄⠀⠐⠈⠀⠁⠀⠠⠀⠀
⠀⠀⠀⠀⡀⠐⠀⠀⠀⠄⠈⠀⡂⠐⠀⢂⠠⠀⡈⠓⠟⠅⠨⠐⠐⠄⠅⡑⠄⢝⡆⠈⠀⢀⠠⠀⢀⠠⠠⠀⠀⠐⠐⢄⢕⠄⡂⠡⠂⠀⠂⠀⠀⠀⠀⠀⠄⠁⠄⠁⠀⠀⠀⠀⠀⠀⠀⠀⢀⠈⠀⠄⠀⢀⠠⠀⠀⢄⡐⠀
⠀⠀⠀⠀⠀⠀⠀⠈⠀⠄⠀⢂⠠⠈⠠⠀⠐⡀⠄⠐⠀⠐⠀⠂⠁⠐⡀⠄⢈⠀⢽⠀⠥⣄⠂⠀⠂⠀⡠⠊⠀⡐⠐⠀⠐⠀⡀⠀⡀⠤⠂⠀⠀⠄⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⡘⠄⠀⠀⠐⠉⠀
⠀⠀⠀⠀⠄⠀⠀⠂⠁⠀⠈⠀⢀⠀⠂⠈⡀⠄⠐⠈⢀⠁⠄⠁⡈⠀⠄⠐⠀⠄⠀⢇⠀⠀⠀⠀⠀⠐⠀⠀⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠂⠀⠂⠈⠀⡈⠀⠈⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠐⠀⠁
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠂⠁⠀⠄⠐⠀⠄⠂⠐⠈⠀⠂⠁⠘⠄⠐⠀⠄⠐⠀⠀⠀⠀⠀⢀⠀⡀⠠⣀⢄⣄⢄⠄⠀⠀⠀⠀⠀⠄⢀⠀⠂⠁⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠀⠀⠠⠀⠂⠀⠀⠀
⠀⠀⠀⠀⠐⠀⠁⠀⠀⠄⠐⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠂⠁⠀⠂⠁⢈⠀⢁⠈⡀⢑⠀⠄⠂⠀⠄⣀⣄⡥⡬⠖⠚⠊⢋⠁⠡⠀⢀⠠⠀⠀⠀⢁⠀⠂⠀⠀⠀⠀⠀⠠⠀⠀⡀⠄⠂⠁⠀⠀⠀⡀⠀⠀⠀⠀⠀⠠⠀
⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠀⠀⠀⡀⠀⠀⠀⠀⠈⠀⠀⠠⠀⠠⠐⠄⠘⠖⠛⠉⡁⠁⠀⠀⠀⠁⠈⠀⠀⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠀⠂⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠠⠐⠀⠀⠀⠠⠐⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠁⠀⠄⠀⠀⠈⠀⠀⢀⠀⠀⠠⠐⠀⠁⠀⠐⠀⠀⠀⠄⠀⠀⠈⠀⠀⠀⢀⠠⠀⠀⠀⠀⠀⠀⠀⠄⠂⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⡀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠂⠀⠀⠠⠐⠀⠀⠠⠀⠀⡀⠀⡀⠀⠀⠀⠀⠀⠀⠀⡀⠠⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠠⠀⠀⠀⠐⠀⠀⠀⠈⠀⠀⠀⠀⠀⠂⠀⠐⠀⠀⠀⠀⠀⠁⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠄⠀⠐⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠂⠁⠀⠀⠀⠀⠐⠀⠀⠀⠀⠀⠂⠁⠀⠀⠀⠀⠠⠀⠀⠀⠁⠀⠀⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⡀⠈⠀
⠀⠀⠀⠀⢀⠀⠀⠀⡀⠐⠈⠀⠀⠀⠠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠐⠈⠀⠀⠠⠀⠀⠄⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⠀⠐⠀⠀⠀⠀⠀⠐⠀⠀⠀⠀⠠⠀⠀⠠⠀⠐⠈⠀⠀⠀⠀⠂⠀⠀⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠂⠁⠀⠐⠀⠀⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠀⢀⠠⠐⠀⠀⠀⠀⠁⠀⠀⠀⠠⠀⠁⠀⠀⠀⠀⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀]]
      return opts
    end,
  },
  -- Set the header color to light blue
  {
    "LazyVim/LazyVim",
    opts = function()
      vim.api.nvim_set_hl(0, "SnacksDashboardHeader", { fg = "#89dcfe" })
    end,
  },
}
